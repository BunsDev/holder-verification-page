(this["webpackJsonpstorm-balance-check"]=this["webpackJsonpstorm-balance-check"]||[]).push([[0],{185:function(e,t,n){e.exports=n(447)},217:function(e,t){},240:function(e,t){},242:function(e,t){},309:function(e,t){},443:function(e,t,n){},447:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(27),l=n.n(o),r=n(43),s=n(28),i=n(184),u=n(38),m=n(39),d=n(41),h=n(40),f=n(42),g=n(7),E=n(15),p=n.n(E),v=n(94),b=n.n(v),k=n(182),w=n.n(k),C=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(c)))).state={address:"",signMessage:"Coin Amount Check",signature:"",ecRecoverAddress:"",tokenBalance:-1,buttonClicked:!1},n.signAndConfirm=function(){var e,t,a,c,o,l;return p.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n.setState({buttonClicked:!0}),e=new b.a(b.a.givenProvider),r.next=4,p.a.awrap(e.eth.getAccounts());case 4:return t=r.sent,r.next=7,p.a.awrap(e.eth.personal.sign(n.state.signMessage,t[0]));case 7:return a=r.sent,r.next=10,p.a.awrap(e.eth.personal.ecRecover(n.state.signMessage,a));case 10:return c=r.sent,o="https://api.tokenbalance.com/token/0xd0a4b8946cb52f0661273bfbc6fd0e0c75fc6433/"+t,r.next=14,p.a.awrap(w.a.get(o));case 14:l=r.sent,n.setState({address:t[0]}),n.setState({signature:a}),n.setState({ecRecoverAddress:c}),n.setState({tokenBalance:l.data.balance});case 19:case"end":return r.stop()}}))},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e="";return-1==this.state.tokenBalance?e=c.a.createElement(g.b,{color:"primary"},"Please check your wallet and sign the message!"):this.state.tokenBalance>=1?e=c.a.createElement(g.b,{color:"success"},"Verified! You have enough tokens to qualify"," "):this.state.tokenBalance<1&&(e=c.a.createElement(g.b,{color:"danger"},"Not Enough Tokens! ")),c.a.createElement("div",null,c.a.createElement(g.i,{className:"mt-5 text-center"},c.a.createElement(g.r,null,c.a.createElement(g.h,null,c.a.createElement(g.l,null,c.a.createElement(g.e,null,c.a.createElement(g.g,{className:"h2"},"Metamask"),c.a.createElement("p",{className:"blue-text my-4 font-weight-bold"},"Sign Transaction To Prove Token Amount"),c.a.createElement("hr",{className:"my-4"}),!1===this.state.buttonClicked?c.a.createElement("div",{className:"pt-2"},c.a.createElement(g.f,null,"Simply sign a message verifying that you own your keys. A notification from your wallet will appear asking you to sign the message. NOTE: You need metamask or another web3 wallet to use this."),c.a.createElement(g.d,{onClick:this.signAndConfirm,color:"primary",className:"waves-effect"},"Verify ",c.a.createElement(g.j,{far:!0,icon:"gem"}))):c.a.createElement("div",{className:"pt-2"},c.a.createElement("hr",null),e,c.a.createElement("hr",null),c.a.createElement("p",null,"Metamask address: ",this.state.address),c.a.createElement("p",null,"Signed Result: ",this.state.signature),c.a.createElement("p",null,"Recover Address From Signed Result:"," ",this.state.ecRecoverAddress),c.a.createElement("p",null,"Token Balance: ",this.state.tokenBalance))))))))}}]),t}(a.Component),y=n(183),O=n.n(y),A=n(95),N=n.n(A),T="https://bridge.walletconnect.org",j=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(c)))).state={},n.connectToWalletConnect=function(){var e,t;return p.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=new O.a({bridge:T}),window.walletConnector=e,a.next=4,p.a.awrap(e.createSession());case 4:t=e.uri,console.log(t),N.a.open(t,(function(){console.log("QR Code Modal closed")})),n.subscribeToEvents(e,n.onConnected);case 8:case"end":return a.stop()}}))},n.onConnected=function(e){console.log("ON CONNECTED!"),console.log(e)},n.subscribeToEvents=function(e,t){if(e.on("session_update",(function(e,t){return p.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log('walletConnector.on("session_update")'),!e){t.next=3;break}throw e;case 3:case"end":return t.stop()}}))})),e.on("connect",(function(n,a){if(console.log('walletConnector.on("connect")'),n)throw n;e.getAccounts().then((function(e){var n=e.find((function(e){return 714===e.network}));console.log("ACCOUNT:",n),console.log("WALLET CONNECT ACCOUNTS RESULTS "+n.address),console.log("ADDR:",crypto.decodeAddress(n.address)),t(a.params[0])})).catch((function(e){console.error(e)})),console.log(a.params[0])})),e.on("disconnect",(function(e,t){if(console.log('walletConnector.on("disconnect")'),e)throw e;N.a.close()})),e.connected)e.chainId,e.accounts[0]},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"Trust Wallet Connect"))}}]),t}(a.Component),S=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(c)))).state={items:{default:"1"}},n.togglePills=function(e,t){return function(a){if(a.preventDefault(),n.state.items[e]!==t){var c=Object(i.a)({},n.state.items);c[e]=t,n.setState({items:c})}}},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement(g.i,{className:"mt-4"},c.a.createElement(g.r,null,c.a.createElement(g.h,{md:"12"},c.a.createElement("h2",null,"Token Holder Verification"),c.a.createElement(g.m,{className:"mt-5 nav-pills"},c.a.createElement(g.n,null,c.a.createElement(g.o,{link:!0,to:"#",active:"1"===this.state.items.default,onClick:this.togglePills("default","1")},"Metamask")),c.a.createElement(g.n,null,c.a.createElement(g.o,{link:!0,to:"#",active:"2"===this.state.items.default,onClick:this.togglePills("default","2")},"Trust Wallet WalletConnect")),c.a.createElement(g.n,null,c.a.createElement(g.o,{link:!0,to:"#",active:"3"===this.state.items.default,onClick:this.togglePills("default","3")},"Other"))),c.a.createElement(g.s,{activeItem:this.state.items.default},c.a.createElement(g.t,{tabId:"1"},c.a.createElement(C,null)),c.a.createElement(g.t,{tabId:"2"},c.a.createElement(j,null)),c.a.createElement(g.t,{tabId:"3"},c.a.createElement("p",null,"Other"))))))}}]),t}(a.Component);n(443);var x=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(r.a,null,c.a.createElement("div",null,c.a.createElement(s.c,null,c.a.createElement(s.a,{path:"/"},c.a.createElement(S,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(444),n(445),n(446);l.a.render(c.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[185,1,2]]]);
//# sourceMappingURL=main.f5a2dd11.chunk.js.map